<!--
  Generated template for the HistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>History</ion-title>
  </ion-navbar>
  <ion-toolbar>
    <ion-segment [(ngModel)]="topTab" color="secondary" (ionChange)="selectedTabChanged($event)">
        <ion-segment-button value="booking">
            Booking
        </ion-segment-button>
        <ion-segment-button value="visit">
            Visit
        </ion-segment-button>
    </ion-segment>
</ion-toolbar>  
</ion-header>
<ion-content>
  
  <div [ngSwitch]="topTab">
    <div *ngSwitchCase="'booking'">
        <!-- <button ion-button icon-start (click)="showAdd()">
            <ion-icon name="add"></ion-icon>
            Add
        </button>   -->



        <ion-card *ngFor="let data of bookingAll">
            <ion-card-header>
                <h2 style="float:left;">{{data.dacen_name}}</h2>
                <!-- <div style="display:block; float:left;">{{data.status_transaksi}}</div> -->
                
                <button (click)='presentActionSheet(data.id_booking,data.id_invoice,id_role,data.id_statustransaksi,data.status_visit,data.id_rackstatus)' item-end ion-button icon-only color="light" style="float: right;" round small outline>
                  <ion-icon name="md-cog"></ion-icon>
                </button>
                
               
              </ion-card-header>          
              
            <ion-card-content>
              <table class="table">
                <tr>
                  <td>ID Booking</td>
                  <td>:</td>
                  <td [innerHtml]="data.id_invoice | invoice"></td>
                </tr>          
                          
                <tr>
                  <td>Requester Name</td>
                  <td>:</td>
                  <td>{{data.emp_name}}</td>
                </tr>                               
                <tr>
                  <td>Client Name</td>
                  <td>:</td>
                  <td>{{data.customer_name}}</td>
                </tr>
               
                <tr>
                  <td>Booking Status</td>
                  <td>:</td>
                  <td [innerHtml]="data.id_statustransaksi | rackstatus:id_role"></td>
                </tr>                	
                <tr>
                    <td>Days Commit</td>
                    <td>:</td>
                    <td>{{data.days_commit}}</td>
                </tr>
                <tr>
                  <td>Qty</td>
                  <td>:</td>
                  <td>{{data.qty}}</td>
              </tr>         
              <tr>
                  <td>Transaction Status</td>
                  <td>:</td>
                  <td [innerHtml]="data.id_statustransaksi | statustransaksi"></td>
              </tr>                     
   
                <tr *ngIf="isrecommended">
                    <td>Recomm* Validator</td>
                    <td>:</td>
                    <td>{{data.validator_name}}</td>
                </tr>               
                <tr *ngIf="showValidator">
                    <td>Validator</td>
                    <td>:</td>
                    <td>{{data.validator_name}}</td>
                </tr>                 

              </table>
            </ion-card-content>
          <!--
            <ion-row>
              <ion-col>
                <button ion-button icon-start clear small>
                  <ion-icon name="thumbs-up"></ion-icon>
                  <div>12 Likes</div>
                </button>
              </ion-col>
              <ion-col>
                <button ion-button icon-start clear small>
                  <ion-icon name="text"></ion-icon>
                  <div>4 Comments</div>
                </button>
              </ion-col>
              <ion-col center text-center>
                <ion-note>
                  11h ago
                </ion-note>
              </ion-col>
            </ion-row>
          -->
          </ion-card>
    </div>
    <div *ngSwitchCase="'visit'">
        <ion-card *ngFor="let data of visitAll">
            <ion-item>              
              <h2><strong>{{data.dacen_name}}</strong></h2>
            </ion-item>
            <ion-card-content>
              <table class="table">
                <tr>
                  <td>Client Name</td>
                  <td>:</td>
                  <td>{{data.client_name}}</td>
                </tr>
                <tr>
                    <td>Visitor List</td>
                    <td>:</td>
                    <td>{{data.visitor_list}}</td>
                </tr>
                <tr>
                    <td>Time Visit</td>
                    <td>:</td>
                    <td>{{data.time_visit}}</td>
                </tr> 
                <tr>
                    <td>Status</td>
                    <td>:</td>
                    <td>{{data.visitstatus}}</td>
                </tr>                                 
              </table>
            </ion-card-content>
    
          </ion-card>
    </div>
  </div>    
</ion-content>
